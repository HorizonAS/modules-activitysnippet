<!doctype html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mocha Spec Runner</title>
    <link rel="stylesheet" href="lib/mocha/mocha.css">
</head>
<body>
    <div id="mocha"></div>

    <!-- Our Activity Snippets -->
    <div class="activitysnippet" data-object-type="cms_article" data-object-id="1" data-object-api="http://google.com" data-verb="favorited"></div>
    <div class="activitysnippet" data-object-type="cms_article" data-object-id="2" data-object-api="http://google.com" data-verb="favorited"></div>
    <div class="activitysnippet" data-object-type="cms_article" data-object-id="3" data-object-api="http://google.com" data-verb="watched"></div>
    <div class="activitysnippet" data-object-type="cms_article" data-object-id="4" data-object-api="http://google.com" data-verb="watched"></div>

    <!-- Testing Framework -->
    <script src="lib/mocha/mocha.js"></script>
    <script>mocha.setup('bdd')</script>

    <!-- assertion framework -->
    <script src="lib/chai.js"></script>
    <script src="lib/sinon-chai.js"></script>
    <script>var expect = chai.expect</script>
    <script>var assert = chai.assert</script>
    <script>var should = chai.should() </script>

    <!-- mocking framework -->
    <script src="lib/sinon.js"></script>

    <!-- code coverage -->
    <script type="text/javascript" src="lib/blanket.min.js"></script>
    <script type="text/javascript" src="grunt-blanket-mocha/support/mocha-blanket.js"></script>

    <!-- include source files here... -->
    <script src="spec/mocha-cakes.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>

    <script src="scripts/templates.js"></script>
    <script src="scripts/utils.js"></script>
    <script src="scripts/events.js"></script>
    <script src="scripts/snippet.js" data-cover></script>
    <script src="scripts/factory.js" data-cover></script>

    <!-- unit tests -->
    <script src="spec/unit/ActivitySnippetUtils.js"></script>
    <script src="spec/unit/ActivityStreamEvents.js"></script>
    <script src="spec/unit/ActivityStreamFactory.js"></script>
    <script src="spec/unit/ActivityStreamSnippet.js"></script>

    <!-- include spec files here... -->
    <!-- <script src="spec/feature/load.js"></script> -->

    <!-- Fix Phantom JS and Sinon working togeather -->
    <script>
        if (navigator.userAgent.indexOf('PhantomJS') !== -1){
            window.ProgressEvent = function (type, params) {
                params = params || {};

                this.lengthComputable = params.lengthComputable || false;
                this.loaded = params.loaded || 0;
                this.total = params.total || 0;
            };
        }
    </script>


    <!-- Mocha Run! -->
    <script>
        if (navigator.userAgent.indexOf('PhantomJS') < 0) {
         mocha
            // .globals(['Wombat', 'Apple']) // acceptable globals
            .run();
        }
    </script>

    <script>
        //blanket.options("reporter", "grunt-blanket-mocha/support/grunt-reporter.js");
    </script>

</body>
</html>
